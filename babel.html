<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>순수 리액트 예제</title>
    </head>
    <body>
        <!-- 타겟 컨테이너 -->
        <div id="root"></div>
        
        <!-- React와 ReactDOM 라이브러리(개발 버전) -->
        <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
        <!-- 
            React : 뷰를 만들기 위한 라이브러리
            ReactDOM : UI를 실제로 브라우저에 렌더링 할 때 사용하는 라이브러리
            오류와 경고 메시지를 콘솔에 출력하지 않는 프로덕션 버전은 development 대신 production(.min)으로 바꾸면 됨.
        -->
        
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

        <script type="text/babel">
            // JSX 코드를 여기 넣거나 별도의 자바스크립트 파일에 대한 링크를 script 태그에 넣을 것

            // 데이터는 조리법 객체의 배열이다
            const data = [
                {
                    "name": "Baked Salmon",
                    "ingredients": [
                        { "name": "연어", "amount": 500, "measurement": "그램"},
                        { "name": "잣", "amount": 1, "measurement": "컵"},
                        { "name": "버터 상추", "amount": 2, "measurement": "컵"},
                        { "name": "옐로 스쿼시(Yellow Squash, 호박의 한 종류)", "amount": 1, "measurement": "개"},
                        { "name": "올리브 오일", "amount": 0.5,    "measurement": "컵"},
                        { "name": "마늘", "amount": 3,  "measurement": "쪽"}
                    ],
                    "steps": [
                        "오븐을 180도로 예열한다.",
                        "유리 베이킹 그릇에 올리브 오일을 두른다.",
                        "연어, 마늘, 잣을 그릇에 담는다.",
                        "오븐에서 15분간 익힌다.",
                        "옐로 스쿼시를 추가하고 다시 30분간 오븐에서 익힌다.",
                        "오븐에서 그릇을 꺼내서 15분간 식힌 다음에 상추를 곁들여서 내놓는다."
                    ]
                },
                {
                    "name": "생선 타코",
                    "ingredients": [
                        { "name": "흰살생선", "amount": 500, "measurement": "그램"},
                        { "name": "치즈", "amount": 1, "measurement": "컵"},
                        { "name": "아이스버그 상추", "amount": 2, "measurement": "컵"},
                        { "name": "토마토", "amount": 2, "measurement": "개(큰것)"},
                        { "name": "또띠야", "amount": 3, "measurement": "개"}
                    ],
                    "steps": [
                        "생선을 그릴에 익힌다.",
                        "또띠야 3장 위에 생선을 얹는다.",
                        "또띠야에 얹은 생선 위에 상추, 토마토, 치즈를 얹는다."
                    ]
                }
            ]

            // 조리법 하나를 표현하는 상태가 없는 함수 컴포넌트다
            const Recipe = ({name, ingredients, steps}) => (// 객체 구조 분해 사용
                <section id={name.toLowerCase().replace(/ /g, "-")}>
                    <h1>{name}</h1>
                    <ul className="ingredients">
                        {ingredients.map((ingredient, i) => (
                            <li key={i}>{ingredient.name}</li>
                        ))}
                    </ul>
                    <section className="instructions">
                        <h2>조리 절차</h2>
                        {steps.map((step, i) => (
                            <p key={i}>{step}</p>
                        ))}
                    </section>
                </section>
            );
            // 조리법으로 이뤄진 메뉴를 표현하는 상태가 없는 함수 컴포넌트다
            const Menu = (props) => (
                <article>
                    <header>
                        <h1>{props.title}</h1>
                    </header>
                    <div className="recipes">
                        {props.recipes.map((recipe, i) => (
                            <Recipe
                                key={i}
                                // name={recipe.name}
                                // ingredients={recipe.ingredients}
                                // steps={recipe.steps}
                                {...recipe}// JSX의 스프레드 연산자 사용(객체 스프레드 연산자처럼 작동)
                            />
                        ))}
                    </div>
                </article>
            );
            // ReactDOM.render를 호출해서 Menu를 현재의 DOM 안에 렌더링한다
            ReactDOM.render(
                <Menu recipes={data} title="맛있는 조리법" />,
                document.getElementById("root")
            )
        </script>
    </body>
</html>
